<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="author" content="Rodschinson">

    <title>Rodschinson</title>
  
   
    <!-- Custom fonts for this template-->
    <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
    <link
        href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
        rel="stylesheet">

    <!-- Custom styles for this template-->
    <link href="css/sb-admin-2.min.css" rel="stylesheet">

    <link rel="stylesheet" type="text/css"
    href="https://cdn.datatables.net/v/bs4/jq-3.6.0/jszip-2.5.0/dt-1.11.3/b-2.0.1/b-html5-2.0.1/datatables.min.css"/>
   



   
 
    

    <style>
        td.details-control {
            background: url('img/angle-arrow-down.png') no-repeat center center;
            cursor: pointer;
            background-size: 15px;
        }
        tr.shown td.details-control {
            background: url('img/angle-arrow-double-down.png') no-repeat center center;
            background-size: 15px;
        }
        
    </style>
</head>

<body id="page-top">

<!-- Page Wrapper -->
<div id="wrapper">

    <!-- Content Wrapper -->
    <div id="content-wrapper" class="d-flex flex-column">

        <!-- Main Content -->
        <div id="content">
            <!-- Begin Page Content -->
            <div class="container-fluid" style="margin-top: 2rem">

                <!-- Page Heading -->
                <div class="mb-2" style="display: flex; justify-content: flex-start; align-items: center">
                    <div>
                        <img src="img/rod_logo.png">
                    </div>
                    <div>
                        <h1 class="h3 text-gray-800">Rodschinson</h1>
                    </div>
                </div>


                

                <div class="card shadow mb-4">
                    <div class="card-header py-3" style="display: flex; justify-content: space-between; align-items: center">
                        <div>
                            <h6 class="m-0 font-weight-bold text-primary">Visualisation data</h6>
                        </div>
                        <!-- Bouton excel -->
                        <!-- <div class="btn btn-info">
                            <input type="file" accept=".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel" id="excel_file" />
                        </div> -->
                        <!-- Je l'ai ajouté -->
                        <button id="Btn_Acceuil" class="dt-button buttons-pdf buttons-html5">Page d'accueil</button>

                        <!-- <div class="btn btn-info">
                        <button id="submit" class="btn btn-success" >Afficher</button>
                        </div> -->

                    </div>
                

                </div>
                <div class="form-group col-sm-2 ">
                    <label for="exampleFormControlSelect1">Entries</label>
                    <select class="form-control" id="cmbEntries">
                    <option value="10">10</option>
                    <option value="25">25</option>         
                    <option value="50">50</option>
                    <option value="100">100</option>
                    </select>
                </div>

                <div class="card-body" id="excel_data">

                    <table id="table_id" class="display table table-bordered">
                        <thead>
                        <tr>
                            <th>DIVISION</th>
                            <th>Salutation</th>
                            <th> Salutaion Email</th>
                            <th>First Name</th>
                            <th>Last Name</th>
                            <th>Sexe</th>
                            <th>EMAIL</th>
                            <th>Preferred Language</th>
                            <th>Phone Account</th>
                            <th>Mobile</th>
                            <th>FAX</th>
                            <th>Account Name</th>
                            <th>Account Number</th>
                            <th>Identifiant Source</th>
                            <th>Pays</th>
                            <th>Billing Code</th>
                            <th>Région</th>
                            <th>Billing City</th>
                            <th>Billing Province</th>
                            <th>Billing Street</th>
                            <th>Tranding Name</th>
                            <th>Code d'activité</th>
                            <th>RSZ1</th>
                            <th>RSZ2</th>
                            <th>RSZ3</th>
                            <th>SECTION</th>
                            <th>Description</th>
                            <th>VAT Number</th>
                            <th>Date d'immatriculation</th>
                            <th>Site Internet</th>
                            <th>Score de solvabilité</th>
                            <th>Definition du Score</th>
                            <th>Score international</th>
                            <th>Limite de credit</th>
                            <th>Catégorie juridique</th>
                            <th>Employés</th>
                            <th>Devise</th>
                            <th>Chiffres d'affaires</th>
                            <th>Bénéfices</th>
                            <th>Bénéfice avant impôts</th>
                            <th>Total des immobilisations</th>
                            <th>Total des actifs courants</th>
                            <th>Total des passifs courants</th>
                            <th>Total des passifs a long terme</th>
                            <th>Fonds d'actionnaires</th>
                            <th>Fond de roulement</th>
                            <th>Ratio de liquidité général</th>
                            <th> Marge bénéficiaire avant impôt</th>
                            <th>Return on Total Assets Employed</th>
                            <th>Ratio d'endettement total</th>
                            <th>Ratio d'endettement</th>
                            <th>Capital social</th>
                            <th>Forme juridique</th>
                            <th>Dirigeant 1 Nom</th>
                            <th>Dirigeant 1 Prénom</th>
                            <th>Dirigeant 1 date de naissance</th>
                            <th>Dirigeant 1 Fonction</th>
                            <th>Dirigeant 1 Date de fonction</th>
                            <th>Dirigeant 2 Nom</th>
                            <th>Dirigeant 2 Prénom</th>
                            <th>Dirigeant 2 date de naissance</th>
                            <th>Dirigeant 2 Fonction</th>
                            <th>Dirigeant 2 Date de Fonction</th>
                            <th>Dirigeant 3 Nom</th>
                            <th>Dirigeant 3 Prénom</th>
                            <th>Dirigeant 3 Fonction</th>
                            <th>Dirigeant 3 Date de fonction</th>
                            <th>Dirigeant 4 Nom</th>
                            <th>Dirigeant 4 Prénom</th>
                            <th>Dirigeant 3 date de naissance</th>
                            <th>Dirigeant 4 date de naissance</th>
                            <th>Dirigeant 4 Fonction</th>
                            <th>Dirigeant 4 Date de Fonction</th>
                            <th>Dirigeant 5 Nom</th>
                            <th>Dirigeant 5 Prénom</th>
                            <th>Dirigeant 5 Date de naissance</th>
                            <th>Dirigeant 5 Fonction</th>
                            <th>Dirigeant 5 Date de Fonction</th>
                            <th>Dirigeant 6 Nom</th>
                            <th>Dirigeant 6 Prénom</th>
                            <th>Dirigeant 6 Date de naissance</th>
                            <th>Dirigeant 6 Fonction</th>
                            <th>Dirigeant 6 Date de Fonction</th>
                            <th>Dirigeant 7 Nom</th>
                            <th>Dirigeant 7 Prénom</th>
                            <th>Dirigeant 7 Date de naissance</th>
                            <th>Dirigeant 7 Fonction</th>
                            <th>Dirigeant 7 Date de Fonction</th>
                            <th>Dirigeant 8 Nom</th>
                            <th>Dirigeant 8 Prénom</th>
                            <th>Dirigeant 8 Date de naissance</th>
                            <th>Dirigeant 8 Fonction</th>
                            <th>Dirigeant 8 Date de Fonction</th>
                            <th>Dirigeant 9 Nom</th>
                            <th>Dirigeant 9 Prénom</th>
                            <th>Dirigeant 9 Date de naissance</th>
                            <th>Dirigeant 9 Fonction</th>
                            <th>Dirigeant 9 date de fonction</th>
                            <th>Dirigeant 10 Nom</th>
                            <th>Dirigeant 10 Prénom</th>
                            <th>Dirigeant 10 Date de naissance</th>
                            <th>Dirigeant 10 Fonction</th>
                            <th>Dirigeant 10 Date Fonction</th>
                            <th>Nom du Fichier</th>
                            <th>Date du Fichier</th>
                            <th>Lien Vers le Fichier</th>
                        </tr>
                        <tbody>
                
                        </tbody>
                    </table>
                    <nav aria-label="Page navigation example">
                        <ul class="pagination">
                            <li class="page-item" id="navFirst" ><a  class="page-link paginatebtn" href="#" >First</a></li>
                            <li class="page-item" id="navPrevious" ><a  class="page-link paginatebtn" href="#" >Previous</a></li>
                            <li class="page-item" id="navNext" ><a  class="page-link paginatebtn" href="#" >Next</a></li>
                            <li class="page-item" id="navLast"><a  class="page-link paginatebtn" href="#" >Last</a></li>
                
                        </ul>
                    </nav>
                </div>
              

        </div>
        <!-- End of Main Content -->

        <!-- Footer -->
        <footer class="sticky-footer bg-white">
            <div class="container my-auto">
                <div class="copyright text-center my-auto">
                    <span>© RODSCHINSON INVESTMENT. ALL RIGHTS RESERVED.</span>
                </div>
            </div>
        </footer>
        <!-- End of Footer -->

    </div>
    <!-- End of Content Wrapper -->

</div>
</div>
<!-- End of Page Wrapper -->

<!-- Scroll to Top Button-->
<a class="scroll-to-top rounded" href="#page-top">
    <i class="fas fa-angle-up"></i>
</a>


<!-- Bootstrap core JavaScript-->
<script src="vendor/jquery/jquery.min.js"></script>
<script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

<script type="text/javascript"
src="https://cdn.datatables.net/v/bs4/jq-3.6.0/jszip-2.5.0/dt-1.11.3/b-2.0.1/b-html5-2.0.1/datatables.min.js"></script>

   <!-- Datatable JS -->
    <!-- <script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script> -->

</body>

<script>

var currentPage ;
var nextPage ;
var previousPage ;
var lastPage ;
var entries = $('#cmbEntries').val();

    $(document).ready(function () {
        $('.page-item').addClass('disabled');

        getTableFData(1,entries);
     
        $('.page-item').click(function (e) {

            e.preventDefault();       
            
            if($(this).attr('data-target')>0){
                $('#table_id').DataTable().clear().destroy();
                getTableFData($(this).attr('data-target'),entries);
            }

        });
        $('#cmbEntries').change(function(){
            
            entries =$(this).val();
            $('#table_id').DataTable().clear().destroy();
            getTableFData(currentPage,entries);
        });

    });

function getTableFData(page,entries) {
    $.ajax({
        method: 'GET',
        url: "serverSide/getpginatedata.php?pageno="+page+"&entries="+entries,
        dataType: 'JSON'
    
    }).done(function (data) {
        // console.log(data.table_data[0]);
        var response = data.table_data;
        var tdata = "";
        $.each(response, function (i, item) {
            tdata = tdata + "<tr>";
            tdata = tdata + "<td>" + item[0] + "</td>";
            tdata = tdata + "<td>" + item[1] + "</td>";
            tdata = tdata + "<td>" + item[2] + "</td>";
            tdata = tdata + "<td>" + item[3] + "</td>";
            tdata = tdata + "<td>" + item[4] + "</td>";
            tdata = tdata + "<td>" + item[5] + "</td>";
            tdata = tdata + "<td>" + item[6] + "</td>";
            tdata = tdata + "<td>" + item[7] + "</td>";
            tdata = tdata + "<td>" + item[8] + "</td>";
            tdata = tdata + "<td>" + item[9] + "</td>";
            tdata = tdata + "<td>" + item[10] + "</td>";
            tdata = tdata + "<td>" + item[11] + "</td>";
            tdata = tdata + "<td>" + item[12] + "</td>";
            tdata = tdata + "<td>" + item[13] + "</td>";
            tdata = tdata + "<td>" + item[14] + "</td>";
            tdata = tdata + "<td>" + item[15] + "</td>";
            tdata = tdata + "<td>" + item[16] + "</td>";
            tdata = tdata + "<td>" + item[17] + "</td>";
            tdata = tdata + "<td>" + item[18] + "</td>";
            tdata = tdata + "<td>" + item[19] + "</td>";
            tdata = tdata + "<td>" + item[20] + "</td>";
            tdata = tdata + "<td>" + item[21] + "</td>";
            tdata = tdata + "<td>" + item[22] + "</td>";
            tdata = tdata + "<td>" + item[23] + "</td>";
            tdata = tdata + "<td>" + item[24] + "</td>";
            tdata = tdata + "<td>" + item[25] + "</td>";
            tdata = tdata + "<td>" + item[26] + "</td>";
            tdata = tdata + "<td>" + item[27] + "</td>";
            tdata = tdata + "<td>" + item[28] + "</td>";
            tdata = tdata + "<td>" + item[29] + "</td>";
            tdata = tdata + "<td>" + item[30] + "</td>";
            tdata = tdata + "<td>" + item[31] + "</td>";
            tdata = tdata + "<td>" + item[32] + "</td>";
            tdata = tdata + "<td>" + item[33] + "</td>";
            tdata = tdata + "<td>" + item[34] + "</td>";
            tdata = tdata + "<td>" + item[35] + "</td>";
            tdata = tdata + "<td>" + item[36] + "</td>";
            tdata = tdata + "<td>" + item[37] + "</td>";
            tdata = tdata + "<td>" + item[38] + "</td>";
            tdata = tdata + "<td>" + item[39] + "</td>";
            tdata = tdata + "<td>" + item[40] + "</td>";
            tdata = tdata + "<td>" + item[41] + "</td>";
            tdata = tdata + "<td>" + item[42] + "</td>";
            tdata = tdata + "<td>" + item[43] + "</td>";
            tdata = tdata + "<td>" + item[44] + "</td>";
            tdata = tdata + "<td>" + item[45] + "</td>";
            tdata = tdata + "<td>" + item[46] + "</td>";
            tdata = tdata + "<td>" + item[47] + "</td>";
            tdata = tdata + "<td>" + item[48] + "</td>";
            tdata = tdata + "<td>" + item[49] + "</td>";
            tdata = tdata + "<td>" + item[50] + "</td>";
            tdata = tdata + "<td>" + item[51] + "</td>";
            tdata = tdata + "<td>" + item[52] + "</td>";
            tdata = tdata + "<td>" + item[53] + "</td>";
            tdata = tdata + "<td>" + item[54] + "</td>";
            tdata = tdata + "<td>" + item[55] + "</td>";
            tdata = tdata + "<td>" + item[56] + "</td>";
            tdata = tdata + "<td>" + item[57] + "</td>";
            tdata = tdata + "<td>" + item[58] + "</td>";
            tdata = tdata + "<td>" + item[59] + "</td>";
            tdata = tdata + "<td>" + item[60] + "</td>";
            tdata = tdata + "<td>" + item[61] + "</td>";
            tdata = tdata + "<td>" + item[62] + "</td>";
            tdata = tdata + "<td>" + item[63] + "</td>";
            tdata = tdata + "<td>" + item[64] + "</td>";
            tdata = tdata + "<td>" + item[65] + "</td>";
            tdata = tdata + "<td>" + item[66] + "</td>";
            tdata = tdata + "<td>" + item[67] + "</td>";
            tdata = tdata + "<td>" + item[68] + "</td>";
            tdata = tdata + "<td>" + item[69] + "</td>";
            tdata = tdata + "<td>" + item[70] + "</td>";
            tdata = tdata + "<td>" + item[71] + "</td>";
            tdata = tdata + "<td>" + item[72] + "</td>";
            tdata = tdata + "<td>" + item[73] + "</td>";
            tdata = tdata + "<td>" + item[74] + "</td>";
            tdata = tdata + "<td>" + item[75] + "</td>";
            tdata = tdata + "<td>" + item[76] + "</td>";
            tdata = tdata + "<td>" + item[77] + "</td>";
            tdata = tdata + "<td>" + item[78] + "</td>";
            tdata = tdata + "<td>" + item[79] + "</td>";
            tdata = tdata + "<td>" + item[80] + "</td>";
            tdata = tdata + "<td>" + item[81] + "</td>";
            tdata = tdata + "<td>" + item[82] + "</td>";
            tdata = tdata + "<td>" + item[83] + "</td>";
            tdata = tdata + "<td>" + item[84] + "</td>";
            tdata = tdata + "<td>" + item[85] + "</td>";
            tdata = tdata + "<td>" + item[86] + "</td>";
            tdata = tdata + "<td>" + item[87] + "</td>";
            tdata = tdata + "<td>" + item[88] + "</td>";
            tdata = tdata + "<td>" + item[89] + "</td>";
            tdata = tdata + "<td>" + item[90] + "</td>";
            tdata = tdata + "<td>" + item[91] + "</td>";
            tdata = tdata + "<td>" + item[92] + "</td>";
            tdata = tdata + "<td>" + item[93] + "</td>";
            tdata = tdata + "<td>" + item[94] + "</td>";
            tdata = tdata + "<td>" + item[95] + "</td>";
            tdata = tdata + "<td>" + item[96] + "</td>";
            tdata = tdata + "<td>" + item[97] + "</td>";
            tdata = tdata + "<td>" + item[98] + "</td>";
            tdata = tdata + "<td>" + item[99] + "</td>";
            tdata = tdata + "<td>" + item[100] + "</td>";
            tdata = tdata + "<td>" + item[101] + "</td>";
            tdata = tdata + "<td>" + item[102] + "</td>";
            tdata = tdata + "<td>" + item[103] + "</td>";
            tdata = tdata + "<td>" + item[104] + "</td>";
            tdata = tdata + "<td>" + item[105] + "</td>";
            tdata = tdata + "</tr>";

        });
        if ($.fn.DataTable.isDataTable("#table_id")) {
            $('#table_id').DataTable().clear().destroy();
        }
        $('#table_id tbody').html(tdata);
        $('#table_id').DataTable(
            {
                dom: 'lBfrtip',
                buttons: [
                    {
                        extend: 'excel',
                        text: 'EXCEL Import',
                        page: 'all',
                    },
                    {
                        extend: 'csv',
                        text: 'CSV Import',
                    },
                ],
                "paging": false
            }
        );
       currentPage = parseInt(data.paginate_data.page_no);
       nextPage = currentPage+1;
       previousPage = currentPage-1;
       lastPage = parseInt(data.paginate_data.total_pages);
        $('#navFirst').removeClass('disabled');
        $('#navFirst').attr('data-target',1);
        if(currentPage === 1){
            $('#navPrevious').addClass('disabled');
            $('#navPrevious').attr('data-target',-1);
        }else {
            $('#navPrevious').removeClass('disabled');
            $('#navPrevious').attr('data-target',previousPage);
        }
        if(currentPage === lastPage){
            $('#navNext').addClass('disabled');
            $('#navNext').attr('data-target',-1);
        }else {
            $('#navNext').removeClass('disabled');
            $('#navNext').attr('data-target',nextPage);
        }
        $('#navLast').removeClass('disabled');
        $('#navLast').attr('data-target',lastPage);
    });
}
$('#Btn_Acceuil').click(function () {
        
        location.href = "index.html"; 
   });
</script>
</html>